{"version":3,"sources":["FriendCard.js","BottomNav.js","Questionnaire.js","views/Feed.js","Login.js","Profile.js","Messages.js","routes/Room.js","modules/RTCModule.js","modules/FirebaseModule.js","VideoChat.js","VideoChatContainer.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","root","display","alignItems","padding","avatar","username","marginLeft","headerArea","flexDirection","actionArea","actions","complimentHandler","axios","get","then","response","console","log","compliments","FriendCard","styles","Card","className","CardMedia","image","title","CardActions","Button","size","variant","color","onClick","Divider","to","width","position","bottom","right","BottomNav","props","classes","React","useState","value","setValue","BottomNavigation","onChange","event","newValue","showLabels","BottomNavigationAction","label","icon","component","Link","justifyContent","maxWidth","emojis","Questionnaire","CardContent","Grid","container","direction","map","es","idx","flex","style","item","xs","Fab","fontSize","backgroundColor","textAlign","handleEmojiClick","users","theme","topBox","paddingTop","bottomBox","marginBottom","spacer","Feed","Box","spacing","user","justify","sm","Login","email","setEmail","name","setName","class","Form","onSubmit","preventDefault","Group","controlId","Control","type","placeholder","e","target","location","pathname","block","body","JSON","stringify","Document","collection","database","fetch","method","headers","localStorage","setItem","handleClick","disabled","length","Profile","open","setOpen","handleClose","reason","src","getItem","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","action","Fragment","IconButton","aria-label","msgs","sender","Messages","msg","Typography","Room","userVideo","useRef","partnerVideo","peerRef","socketRef","otherUser","userStream","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","current","createOffer","offer","setLocalDescription","payload","caller","id","sdp","localDescription","emit","catch","handleNegotiationNeededEvent","handleRecieveCall","incoming","desc","RTCSessionDescription","setRemoteDescription","getTracks","forEach","track","addTrack","createAnswer","answer","handleAnswer","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","srcObject","streams","useEffect","navigator","mediaDevices","getUserMedia","audio","video","stream","io","connect","match","params","roomID","on","callUser","autoPlay","ref","connection","localStream","userToCall","doOffer","a","addStream","error","initiateLocalStream","initiateConnection","conn","listenToConnectionEvents","remoteUsername","remoteVideoRef","doCandidate","sendAnswer","notif","doAnswer","parse","from","set","update","VideoChat","onLoginClicked","onLogin","state","setState","isLoggedIn","onStartCallClicked","startCall","renderVideos","classnames","active","setLocalVideoRef","playsInline","connectedUser","setRemoteVideoRef","renderForms","this","Component","VideoChatContainer","componentDidMount","localVideoRef","localConnection","handleUpdate","yourConn","addCandidate","createRef","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40ea2db4.chunk.js","sourcesContent":["import React from 'react';\n// import { Avatar, Card, Button} from 'antd';\nimport { makeStyles} from '@material-ui/core/styles';\nimport { Card, CardActions, Button, Divider} from '@material-ui/core';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nexport { FriendCard }\n  \nconst PRIMARYCOLOR = \"#6360FF\";\nconst SECONDARYCOLOR = \"#FF8181\"\n\n\n  const useStyles = makeStyles(() => ({\n    root: {\n      display: 'flex',\n      alignItems: 'flex-start',\n      padding: '2vh',\n    },\n    avatar: {\n        padding: '5vh'\n    },\n    username: {\n        padding: '10px',\n        marginLeft: '5vh'\n    },\n    headerArea: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center'\n    },\n    actionArea: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'row'        \n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'column',\n    }\n  }));\n\nconst complimentHandler = function() {\n    axios.get('http://insultgenerator.apiblueprint.org/compliments')\n        .then((response) => {\n            console.log(response[0].compliments[0]);\n        });\n}\n\nfunction FriendCard() {\n\n    const styles = useStyles();\n\n    return(\n        <div>\n            <Card className={styles.root}>\n                <CardMedia\n                    className={styles.avatar}\n                    image=\"/images/profile-pic.png\"\n                    title=\"Live from space album cover\"\n                />\n                <div className=\"userName\" styles={styles.username}>\n                    <h1>Luis</h1>\n                </div>\n                <CardActions className={styles.actions}>\n                    <Button size=\"medium\" variant=\"contained\" styles={{color: PRIMARYCOLOR}} onClick={complimentHandler}>\n                        Compliment\n                    </Button>\n                    <Divider/>\n                    <Link to=\"/video\">\n                        <Button size=\"medium\" variant=\"contained\" styles={{color: SECONDARYCOLOR}}>\n                                Call\n                        </Button>\n                    </Link>\n                </CardActions> \n            </Card>\n        </div>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeIcon from '@material-ui/icons/Home';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport AccountBoxRoundedIcon from '@material-ui/icons/AccountBoxRounded';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    position: \"fixed\",\n    bottom: 1,\n    right: 1\n  },\n});\n\nexport default function BottomNav(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  return (\n      <BottomNavigation\n        value={value}\n        onChange={(event, newValue) => {\n          setValue(newValue);\n        }}\n        showLabels\n        className={classes.root}\n      >  \n      <BottomNavigationAction label=\"Home\" value=\"feed\" icon={<HomeIcon />} component={Link} to='/feed'/>\n      <BottomNavigationAction \n        label=\"Profile\" value=\"profile\" icon={<AccountBoxRoundedIcon />} component={Link} to='/profile'/>\n      <BottomNavigationAction \n        label=\"Messages\" value=\"messages\" icon={<ForumIcon />} component={Link} to='/messages'/>\n    </BottomNavigation>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Card, Fab, CardContent, Grid } from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'row',\n    maxWidth: \"500px\",\n  },\n});\n\nconst emojis = [\"üòÄ\", \"üôÇ\", \"üòê\", \"üôÅ\", \"üò•\"]\n\nconst handleEmojiClick = function(idx) {\n    console.log(emojis[idx]); // send this idx to the backend :)\n\n};\n\nexport default function Questionnaire(props) {\n  const classes = useStyles();\n\n  return (\n    <div>\n        <Card className={classes.root} variant=\"outlined\">\n            <CardContent>\n                <h3> How do you feel today?</h3>\n                <span>\n                <Grid \n                    container \n                    direction=\"row\"\n                    alignItems=\"center\">\n                    {emojis.map((es, idx) => {\n                        return (\n                        <span styles={{flex: 1, flexDirection: \"row\"}}>\n                            <Grid container direction=\"row\" style={{width: '35%'}}>\n                                <Grid item xs={2}>\n                                    <Fab \n                                        style={{fontSize: \"50px\", backgroundColor: \"white\", textAlign: \"justify\"}} onClick={() => handleEmojiClick(idx)}>\n                                        {es}\n                                    </Fab>\n                                </Grid>\n                            </Grid>\n                        </span>\n                        );\n                    })}\n                </Grid>\n                </span>\n            </CardContent>\n        </Card>\n    </div>\n  );\n}","import { FriendCard } from '../FriendCard.js';\nimport Grid from '@material-ui/core/Grid';\nimport { Box } from '@material-ui/core';\nimport { makeStyles} from '@material-ui/core/styles';\nimport BottomNav from '../BottomNav.js';\nimport Questionnaire from '../Questionnaire.js';\n\n// async function getUsers() {\n//     let data = await fetch('http://reach-flask-backend.herokuapp.com/mongodbusers', {\n//         method: 'GET',\n//         headers: {\n//             'Accept': 'application/json',\n//             'Content-Type': 'application/json',\n//             'Access-Control-Allow-Origin': \"*\",\n//             'Access-Control-Allow-Headers': 'Content-Type'\n//         },\n//     })\n//     // .then(response => response.json())\n\n//     console.log(data)\n// }\n// getUsers()\n\nconst users = [\n    {\n        \"name\": \"Luis\",\n        \"wellnessScore\": 10\n    },\n    {\n        \"name\": \"Paul\",\n        \"wellnessScore\": 8\n    },\n    {\n        \"name\": \"Pierre\",\n        \"wellnessScore\": 2\n    },\n    {\n        \"name\": \"Drake\",\n        \"wellnessScore\": 5\n    }, \n]\n\nconst useStyles = makeStyles((theme) => ({\n    topBox: {\n        // display: \"center\",\n        paddingTop: \"30px\",\n    },\n    bottomBox: {\n        marginBottom: \"100px\"\n    },\n    spacer: {\n        padding: \"10px\"\n    }\n  }));\n\nfunction Feed() {\n\n    const styles = useStyles();\n\n  return (\n    <div className=\"container\" styles={styles.root}>\n      <header className=\"App-header\">\n        <Box className={styles.topBox}/>\n        <Grid \n            container\n            direction=\"column\"\n            spacing={1}\n            alignItems=\"center\"\n            styles={styles.container}\n        >\n        < Questionnaire />\n        <Box className={styles.spacer}/>\n            <div>\n                {users.map(user => {\n                    return(\n                    <span styles={{flex: 1, flexDirection: \"row\"}}>\n                        <Grid container justify={\"center\"} spacing={5}>\n                            <Grid item xs={12} sm={12}>\n                                <FriendCard />\n                            </Grid>\n                        </Grid>\n                    </span>\n                    )\n                })}\n            </div>\n        </Grid>\n      </header>\n      <Box className={styles.bottomBox}/>\n      <BottomNav/>\n\n    </div>\n  );\n}\n\nexport default Feed;\n","import React, { useState } from 'react'\nimport './login.css'\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from 'react-router-dom';\n\nfunction Login() {\n\n    const [email, setEmail] = useState(\"\");\n    const [name, setName] = useState(\"\");\n  \n    function validateForm() {\n      return email.length > 0 && name.length > 0;\n    }\n  \n    function handleSubmit(event) {\n      event.preventDefault();\n    }\n\n    function handleClick() {\n        var body = JSON.stringify({\n            Document: {\n                name: name,\n                email: email,\n            },\n            collection: \"Users\",\n            database: \"MongoDB\"\n        })\n        fetch('http://localhost:5001/mongodb', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': \"*\",\n                'Access-Control-Allow-Headers': 'Content-Type'\n            },\n            body: body,\n        })\n        localStorage.setItem('name', name);\n        localStorage.setItem('email', email);\n\n    }\n\n    return (\n        <div class=\"login-page\">\n            <p class=\"login-message\">Feel Reached.</p>\n            <div class=\"login\">\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group controlId=\"name\">\n                    <Form.Control\n                        type=\"name\"\n                        placeholder=\"Name\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                    />\n                    </Form.Group>\n                    <Form.Group controlId=\"email\">\n                    <Form.Control\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    </Form.Group>\n                    <Link to={location => ({ ...location, pathname: \"/feed\" })}><Button block size=\"lg\" type=\"submit\" onClick={() => handleClick()} disabled={!validateForm()}>\n                    Join\n                    </Button></Link>\n                </Form>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState} from 'react';\nimport './profile.css';\nimport BottomNav from './BottomNav';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\n// import MuiAlert from '@material-ui/lab/Alert';\n\n// function handleSubmit() {\n//     const inviteUser = this.state.invitee;\n//     // Make a post req to add :)\n//     // Add a snackbar\n//     setOpen(true);\n// }\n\n// const handleInputChange = e => {\n//     setValue(e.target.value)\n// }\n\n// const handleClose = (event, reason) => {\n//     if (reason === 'clickaway') {\n//       return;\n//     }\n\n//     setOpen(false);\n// };\n// function Alert(props) {\n//     return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n// }\nfunction Profile() {\n    const [value, setValue] = useState('');\n    // const [open, setOpen] = useState(false);\n    const [open, setOpen] = useState(false);\n\n    function handleSubmit() {\n        const inviteUser = value;\n        // Make a post req to add :)\n        // Add a snackbar\n        setOpen(true);\n    }\n    \n    const handleInputChange = e => {\n        setValue(e.target.value)\n    }\n    \n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n        setOpen(false);\n    };\n\n    return (\n        <div class=\"profile\">\n            <div class=\"profile-header\">\n                <img src=\"/images/profile-icon.png\" />\n                <p class=\"username\">{localStorage.getItem(\"name\")}</p>\n            </div>\n            <div class=\"settings\">\n                {/* <h2>invite friends!</h2> */}\n                <form onSubmit={handleSubmit}>\n                    <label>\n                        Invite friends!\n                        <input type=\"text\" value={value} onChange={handleInputChange} />\n                    </label>\n                    <input type=\"submit\" value=\"Invite\" />\n                </form>\n                <p>Account Security</p>\n                <p>Notification Settings</p>\n                <p>Wellness Tips</p>\n                <p>Sign Out</p>\n                <Snackbar\n                    anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                    }}\n                    open={open}\n                    autoHideDuration={6000}\n                    onClose={handleClose}\n                    message=\"Note archived\"\n                    action={\n                    <React.Fragment>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\n                            UNDO\n                        </Button>\n                        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                        <CloseIcon fontSize=\"small\" />\n                        </IconButton>\n                    </React.Fragment>\n                    }\n                />\n            </div>\n            <BottomNav/>\n        </div>\n    )\n}\n\nexport default Profile\n","import React from 'react';\nimport './profile.css';\nimport BottomNav from './BottomNav';\nimport Card from '@material-ui/core/Card';\nimport { Box, Grid } from '@material-ui/core';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\n// fetch something hehehehe\n\nconst msgs = [\n    {\n        sender: \"bob\",\n        message: \"You are the greatest!\"\n    },\n    {\n        sender: \"jesus\",\n        message: \"you can do anything you set your mind to!\"\n    },\n    {\n        sender: \"sarah\",\n        message: \"go team!\"\n    },\n]\n\nconst useStyles = makeStyles(() => ({\n    root: {\n      display: 'flex',\n      alignItems: 'flex-start',\n      padding: '2vh',\n    },\n    topBox: {\n        // display: \"center\",\n        paddingTop: \"30px\",\n    },\n    bottomBox: {\n        marginBottom: \"100px\"\n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'column',\n    }\n  }));\n\nfunction Messages() {\n\n    const styles = useStyles();\n\n    return (\n        <div>\n        <Box className={styles.topBox}/>\n        <Grid \n            container\n            direction=\"column\"\n            spacing={2}\n            alignItems=\"center\"\n            styles={styles.container}\n        >\n            {msgs.map(msg => {\n                return(\n                    <Grid item xs={6} sm={6}>\n                        <Card>\n                            <CardContent>\n                                <Typography component=\"h3\" variant=\"h3\">\n                                    {msg.message}\n                                </Typography>\n                                <Typography component=\"h5\" variant=\"h5\">\n                                --{msg.sender}\n                                </Typography>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                )\n            })}\n        </Grid>\n        \n        <Box className={styles.bottomBox}/>\n        <BottomNav/>\n\n        </div>\n    )\n}\n\nexport default Messages\n","import React, { useRef, useEffect } from \"react\";\nimport io from \"socket.io-client\";\n\nconst Room = (props) => {\n    const userVideo = useRef();\n    const partnerVideo = useRef();\n    const peerRef = useRef();\n    const socketRef = useRef();\n    const otherUser = useRef();\n    const userStream = useRef();\n\n    useEffect(() => {\n        navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n            userStream.current = stream;\n\n            socketRef.current = io.connect(\"/video\");\n            socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n            socketRef.current.on('other user', userID => {\n                callUser(userID);\n                otherUser.current = userID;\n            });\n            {console.log(\"WE OUT HERE IN ROOM.JS\")\n        }\n            socketRef.current.on(\"user joined\", userID => {\n                otherUser.current = userID;\n            });\n\n            socketRef.current.on(\"offer\", handleRecieveCall);\n\n            socketRef.current.on(\"answer\", handleAnswer);\n\n            socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n        });\n\n    }, []);\n\n    function callUser(userID) {\n        peerRef.current = createPeer(userID);\n        userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n    }\n\n    function createPeer(userID) {\n        const peer = new RTCPeerConnection({\n            iceServers: [\n                {\n                    urls: \"stun:stun.stunprotocol.org\"\n                },\n                {\n                    urls: 'turn:numb.viagenie.ca',\n                    credential: 'muazkh',\n                    username: 'webrtc@live.com'\n                },\n            ]\n        });\n\n        peer.onicecandidate = handleICECandidateEvent;\n        peer.ontrack = handleTrackEvent;\n        peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n        return peer;\n    }\n\n    function handleNegotiationNeededEvent(userID) {\n        peerRef.current.createOffer().then(offer => {\n            return peerRef.current.setLocalDescription(offer);\n        }).then(() => {\n            const payload = {\n                target: userID,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            };\n            socketRef.current.emit(\"offer\", payload);\n        }).catch(e => console.log(e));\n    }\n\n    function handleRecieveCall(incoming) {\n        console.log(\"we in handlereceivecall\");\n        peerRef.current = createPeer();\n        const desc = new RTCSessionDescription(incoming.sdp);\n        peerRef.current.setRemoteDescription(desc).then(() => {\n            userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n        }).then(() => {\n            return peerRef.current.createAnswer();\n        }).then(answer => {\n            return peerRef.current.setLocalDescription(answer);\n        }).then(() => {\n            const payload = {\n                target: incoming.caller,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            }\n            socketRef.current.emit(\"answer\", payload);\n        })\n    }\n\n    function handleAnswer(message) {\n        const desc = new RTCSessionDescription(message.sdp);\n        peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n    }\n\n    function handleICECandidateEvent(e) {\n        if (e.candidate) {\n            const payload = {\n                target: otherUser.current,\n                candidate: e.candidate,\n            }\n            socketRef.current.emit(\"ice-candidate\", payload);\n        }\n    }\n\n    function handleNewICECandidateMsg(incoming) {\n        const candidate = new RTCIceCandidate(incoming);\n\n        peerRef.current.addIceCandidate(candidate)\n            .catch(e => console.log(e));\n    }\n\n    function handleTrackEvent(e) {\n        partnerVideo.current.srcObject = e.streams[0];\n    };\n\n    return (\n        <div>\n            <video autoPlay ref={userVideo} />\n            <video autoPlay ref={partnerVideo} />\n        </div>\n    );\n};\n\nexport default Room;\n","\nexport const createOffer = async (connection, localStream, userToCall, doOffer, database, username) => {\n    try {\n      connection.addStream(localStream)\n  \n      const offer = await connection.createOffer()\n      await connection.setLocalDescription(offer)\n  \n      doOffer(userToCall, offer, database, username)\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n  \n  export const initiateLocalStream = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      })\n      return stream\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n  export const initiateConnection = async () => {\n    try {\n      // using Google public stun server\n      var configuration = {\n        iceServers: [{ urls: 'stun:stun2.1.google.com:19302' }]\n      }\n  \n      const conn = new RTCPeerConnection(configuration)\n  \n      return conn\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n  \n  export const listenToConnectionEvents = (conn, username, remoteUsername, database, remoteVideoRef, doCandidate) => {\n    conn.onicecandidate = function (event) {\n      if (event.candidate) {\n        doCandidate(remoteUsername, event.candidate, database, username)\n      }\n    }\n  \n    // when a remote user adds stream to the peer connection, we display it\n    conn.ontrack = function (e) {\n      if (remoteVideoRef.srcObject !== e.streams[0]) {\n        remoteVideoRef.srcObject = e.streams[0]\n      }\n    }\n  }\n  \n  export const sendAnswer = async (conn, localStream, notif, doAnswer, database, username) => {\n    try {\n      conn.addStream(localStream)\n  \n      const offer = JSON.parse(notif.offer)\n      conn.setRemoteDescription(offer)\n  \n      // create an answer to an offer\n      const answer = await conn.createAnswer()\n      conn.setLocalDescription(answer)\n  \n      doAnswer(notif.from, answer, database, username)\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n  \n  export const startCall = (yourConn, notif) => {\n    const answer = JSON.parse(notif.answer)\n    yourConn.setRemoteDescription(answer)\n  }\n  \n  export const addCandidate = (yourConn, notif) => {\n    // apply the new received candidate to the connection\n    const candidate = JSON.parse(notif.candidate)\n    yourConn.addIceCandidate(new RTCIceCandidate(candidate))\n  }\n  ","\nexport const doLogin = async (username, database, handleUpdate) => {\n    await database.ref('/notifs/' + username).remove()\n    database.ref('/notifs/' + username).on('value', snapshot => {\n      snapshot.exists() && handleUpdate(snapshot.val(), username)\n    })\n  }\n  \n  export const doOffer = async (to, offer, database, username) => {\n    await database.ref('/notifs/' + to).set({\n      type: 'offer',\n      from: username,\n      offer: JSON.stringify(offer)\n    })\n  }\n  \n  export const doAnswer = async (to, answer, database, username) => {\n    await database.ref('/notifs/' + to).update({\n      type: 'answer',\n      from: username,\n      answer: JSON.stringify(answer)\n    })\n  }\n  \n  export const doLeaveNotif = async (to, database, username) => {\n    await database.ref('/notifs/' + to).update({\n      type: 'leave',\n      from: username\n    })\n  }\n  \n  export const doCandidate = async (to, candidate, database, username) => {\n    // send the new candiate to the peer\n    await database.ref('/notifs/' + to).update({\n      type: 'candidate',\n      from: username,\n      candidate: JSON.stringify(candidate)\n    })\n  }\n  ","import React from 'react'\nimport './App.css'\nimport 'firebase/database'\nimport classnames from 'classnames'\n\nexport default class VideoChat extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isLoggedIn: true,\n      userToCall: null,\n      username: null\n    }\n  }\n\n  onLoginClicked = async () => {\n    await this.props.onLogin(this.state.username)\n    this.setState({\n      isLoggedIn: true\n    })\n  }\n\n  onStartCallClicked = () => {\n    this.props.startCall(this.state.username, this.state.userToCall)\n  }\n\n  renderVideos = () => {\n    return <div className={classnames('videos', { active: this.state.isLoggedIn })}>\n      <div styles={{maxWidth: \"100px\"}}>\n        <label>{this.state.username}</label>\n\n        <video ref={this.props.setLocalVideoRef} autoPlay playsInline></video>\n      </div>\n      <div>\n        <label>{this.props.connectedUser}</label>\n        <video ref={this.props.setRemoteVideoRef} autoPlay playsInline></video>\n      </div>\n\n    </div>\n  }\n\n  renderForms = () => {\n    return (\n      <div key='a' className='form'>\n        <label>Call to</label>\n        <input value={this.state.userToCall} type=\"text\" onChange={e => this.setState({ userToCall: e.target.value })} />\n        <button onClick={this.onStartCallClicked} id=\"call-btn\" className=\"btn btn-primary\">Call</button>\n\n      </div>\n      )\n  }\n\n  render () {\n    return <section id=\"container\">\n      {<div key='a' className='form'>\n        <label>Call to</label>\n        <input value={this.state.userToCall} type=\"text\" onChange={e => this.setState({ userToCall: e.target.value })} />\n        <button onClick={this.onStartCallClicked} id=\"call-btn\" className=\"btn btn-primary\">Call</button>\n\n      </div>}\n\n      {this.renderVideos()}\n\n    </section>\n  }\n}\n","import React from 'react'\nimport './App.css'\nimport { createOffer, initiateConnection, startCall, sendAnswer, addCandidate, initiateLocalStream, listenToConnectionEvents } from './modules/RTCModule'\nimport firebase from 'firebase/app'\nimport 'firebase/database'\nimport config from './config.js'\nimport { doOffer, doAnswer, doLogin, doCandidate } from './modules/FirebaseModule'\nimport 'webrtc-adapter'\nimport VideoChat from './VideoChat'\nimport BottomNav from './BottomNav'\n\nclass VideoChatContainer extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      database: null,\n      connectedUser: null,\n      localStream: null,\n      localConnection: null\n    }\n    this.localVideoRef = React.createRef()\n    this.remoteVideoRef = React.createRef()\n  }\n\n    componentDidMount = async () => {\n      // firebase.initializeApp(config)\n\n      // getting local video stream\n      const localStream = await initiateLocalStream()\n      this.localVideoRef.srcObject = localStream\n\n      const localConnection = await initiateConnection()\n\n      this.setState({\n        // database: firebase.database(),\n        localStream,\n        localConnection\n      })\n    }\n\n    // shouldComponentUpdate (nextProps, nextState) {\n    //   if (this.state.database !== nextState.database) {\n    //     return false\n    //   }\n    //   if (this.state.localStream !== nextState.localStream) {\n    //     return false\n    //   }\n    //   if (this.state.localConnection !== nextState.localConnection) {\n    //     return false\n    //   }\n\n    //   return true\n    // }\n\n    startCall = async (username, userToCall) => {\n      const { localConnection, database, localStream } = this.state\n      listenToConnectionEvents(localConnection, username, userToCall, database, this.remoteVideoRef, doCandidate)\n      createOffer(localConnection, localStream, userToCall, doOffer, database, username)\n    }\n\n    // onLogin = async (username) => {\n    //   return await doLogin(username, this.state.database, this.handleUpdate)\n    // }\n\n    setLocalVideoRef = ref => {\n      this.localVideoRef = ref\n    }\n\n    setRemoteVideoRef = ref => {\n      this.remoteVideoRef = ref\n    }\n\n    handleUpdate = (notif, username) => {\n      const { localConnection, database, localStream } = this.state\n\n      if (notif) {\n        switch (notif.type) {\n          case 'offer':\n            this.setState({\n              connectedUser: notif.from\n            })\n\n            listenToConnectionEvents(localConnection, username, notif.from, database, this.remoteVideoRef, doCandidate)\n\n            sendAnswer(localConnection, localStream, notif, doAnswer, database, username)\n            break\n          case 'answer':\n            this.setState({\n              connectedUser: notif.from\n            })\n            startCall(localConnection, notif)\n            break\n          case 'candidate':\n            addCandidate(localConnection, notif)\n            break\n          default:\n            break\n        }\n      }\n    }\n\n    render () {\n      return(\n      <div styles={{display: \"flex\", maxWidth:\"50px\"}}>\n        <VideoChat\n          startCall={this.startCall}\n          onLogin={this.onLogin}\n          setLocalVideoRef={this.setLocalVideoRef}\n          setRemoteVideoRef={this.setRemoteVideoRef}\n          connectedUser={this.state.connectedUser}\n        />\n        <BottomNav/>\n      </div>\n      )\n    }\n}\n\nexport default VideoChatContainer\n","import './App.css';\nimport Feed from './views/Feed.js'\nimport Login from './Login.js';\nimport Profile from './Profile.js';\nimport Messages from './Messages.js';\nimport {\n  Route,\n  Switch,\n  BrowserRouter as Router,\n  Redirect\n} from 'react-router-dom'\nimport { useEffect } from 'react';\n// import users from './usersJSON.json'\n// import Feed from './views/Feed.js'\nimport Room from './routes/Room.js';\nimport CreateRoom from './routes/CreateRoom.js';\nimport VideoChatContainer from './VideoChatContainer.js';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      {/* <VideoChatContainer/> */}\n        <Router>\n          <Switch>\n            {/* <Route path=\"/video\" component={Video} */}\n            <Route path=\"/video\" component={VideoChatContainer}/>\n            <Route path=\"/room/:roomID\" component={Room} />\n            <Route path=\"/\" exact component={Login}/>\n            <Route path=\"/feed\" component={Feed}/>\n            <Route path=\"/profile\" component={Profile}/>\n            <Route path=\"/messages\" component={Messages}/>\n          </Switch>\n        </Router>\n      </header>\n\n    </div>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}